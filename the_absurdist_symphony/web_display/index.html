<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Absurdist Symphony - Cycle {{ cycle_number }}</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>The Absurdist Symphony</h1>
        <p>An Ode to Accidental Brilliance - Cycle #{{ cycle_number }}</p>
    </header>

    <div class="container">
        <div class="component mood-info">
            <h2>The Current Mood (from {{ city_name }})</h2>
            <p><strong>Weather:</strong> {{ weather_description }} at {{ temp_c }}°C (Feels like {{ feels_like_c }}°C)</p>
            <p><strong>Wind:</strong> {{ wind_kmph }} km/h | <strong>Humidity:</strong> {{ humidity }}%</p>
            <p>
                <strong>Mood Vector:</strong>
                Joy: {{ joy | round(2) }};
                Gloom: {{ gloom | round(2) }};
                Chaos: {{ chaos | round(2) }};
                Serenity: {{ serenity | round(2) }};
                Energy: {{ energy | round(2) }};
                Mystery: {{ mystery | round(2) }}
            </p>
            {% if cosmic_event_log %}
            <p><strong>Cosmic Event:</strong> {{ cosmic_event_log }}</p>
            {% endif %}
        </div>

        <div class="component visual-poem">
            <h2>Visual Poem</h2>
            {{ visual_poem_svg | safe }}
        </div>

        <div class="component haiku">
            <h2>Haiku of the Moment</h2>
            {% for line in haiku_lines %}
            <p>{{ line }}</p>
            {% endfor %}
        </div>

        <div class="component soundscape">
            <h2>Soundscape Description: "{{ soundscape_title }}"</h2>
            <div class="soundscape-details">
                <ul>
                    <li><strong>Overall Mood Hint:</strong> {{ soundscape_overall_mood }}</li>
                    <li><strong>Tempo:</strong> {{ soundscape_tempo }}</li>
                    <li><strong>Key/Mode:</strong> {{ soundscape_key_mode }}</li>
                    <li><strong>Instrumentation:</strong> {{ soundscape_instrumentation | join(', ') }}</li>
                    <li><strong>Rhythmic Feel:</strong> {{ soundscape_rhythmic_feel }}</li>
                    <li><strong>Melodic/Harmonic Character:</strong> {{ soundscape_melodic_harmonic_character }}</li>
                    <li><strong>Texture:</strong> {{ soundscape_texture }}</li>
                    <li><strong>Dynamics:</strong> {{ soundscape_dynamics }}</li>
                </ul>
                <h3>Conceptual Event List Snippet:</h3>
                <div class="soundscape-event-list">
                    {% for event in soundscape_conceptual_event_list %}
                    {{ event }}<br>
                    {% endfor %}
                </div>
                <p><strong><em>Absurd Annotation:</em></strong> <em>{{ soundscape_absurd_annotation }}</em></p>
            </div>
        </div>

        {% if goldfish_wisdom %}
        <div class="component goldfish-wisdom">
            <h2>The Philosophical Goldfish Says:</h2>
            <p>"{{ goldfish_wisdom }}"</p>
        </div>
        {% endif %}
    </div>

    <footer>
        <p>Generated by The Absurdist Symphony Project. Embrace the chaos.</p>
    </footer>
</body>
</html>
